!function(e){var n={};function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(o,i,function(n){return e[n]}.bind(null,i));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n){let t=2,o=!1,i=[],a=!0;var d=new Konva.Stage({container:"container",width:500,height:650}),r=new Konva.Layer;d.add(r);var l=new Konva.Rect({x:0,y:0,width:500,height:650,fill:"#EC808D"});r.add(l);var c=new Konva.Rect({x:90,y:175,width:300,height:300,fill:"#FACD91"}),s=new Konva.Text({x:100,y:265,text:"开始游戏前，让我们先\n来了解下什么是光的\n             反射？",fontSize:28,fill:"#333",storke:"#333"});function f(){r.children.splice(1),r.draw(),d.off("click");var e=new Konva.Rect({x:50,y:45,width:400,height:200,fill:"#FACD91"}),n=new Konva.Text({x:50,y:75,text:"2.漫反射：\n平行光经界面反射后向各个不同\n的方向反射出去，即在各个不同\n的方向都能接收到反射光线（反\n射面是粗糙平面或曲面） ",fontSize:28,fill:"#333",storke:"#333"});r.add(e),r.add(n);var t=new Image;t.src="./images/man.jpeg",t.onload=function(){var e=new Konva.Image({x:70,y:305,image:t,width:360,height:260});r.add(e),r.draw()},r.draw(),d.on("click",u)}function u(){r.children.splice(1),r.draw(),d.off("click");var e=new Konva.Rect({x:90,y:175,width:300,height:300,fill:"#FACD91"}),n=new Konva.Text({x:100,y:265,text:"现在初步认识了两种光\n的反射，让我们主要学\n习基于镜面反射的知识\n吧！",fontSize:28,fill:"#333",storke:"#333"});r.add(e),r.add(n),r.draw(),d.on("click",w)}function h(){for(let n=0;n<11;n++){var e=new Konva.Line({points:[0,50*(n+1),500,50*(n+1)],stroke:"#D7D7D7",tension:1});e.dash([5,2]),r.add(e)}for(let e=0;e<10;e++){var n=new Konva.Line({points:[50*(e+1),0,50*(e+1),550],stroke:"#D7D7D7",tension:1});n.dash([5,2]),r.add(n)}}function g(e,n,t,o){var i=new Konva.Rect({x:e,y:n,width:t,height:o,fill:"#555555"});r.add(i),r.draw()}function w(){d.off("click"),r.children.splice(1),r.draw();var e=new Image;e.src="./images/1.png",e.onload=function(){var n=new Konva.Image({x:0,y:0,image:e,width:500,height:580});r.add(n),r.draw()},d.on("click",m)}function m(){d.off("click"),r.children.splice(1),r.draw();var e=new Image;e.src="./images/2.png",e.onload=function(){var n=new Konva.Image({x:0,y:0,image:e,width:500,height:580});r.add(n),r.draw()},d.on("click",v)}function v(){d.off("click"),r.children.splice(1),r.draw();var e=new Image;e.src="./images/3.png",e.onload=function(){var n=new Konva.Image({x:0,y:0,image:e,width:500,height:580});r.add(n),r.draw()},d.on("click",y)}function y(){d.off("click"),r.children.splice(1),r.draw();var e=new Image;e.src="./images/4.png",e.onload=function(){var n=new Konva.Image({x:0,y:0,image:e,width:500,height:580});r.add(n),r.draw()},d.on("click",x)}function x(){d.off("click"),r.children.splice(1),r.draw();var e=new Konva.Rect({x:90,y:175,width:300,height:300,fill:"#FACD91"}),n=new Konva.Text({x:100,y:265,text:"为了巩固刚刚学到的反\n射知识，下面再来看一\n个入射角不同的例子",fontSize:28,fill:"#333",storke:"#333"});r.add(e),r.add(n),r.draw(),d.on("click",p)}function p(){d.off("click"),r.children.splice(1),r.draw();var e=new Image;e.src="./images/5.png",e.onload=function(){var n=new Konva.Image({x:0,y:0,image:e,width:500,height:580});r.add(n),r.draw()},d.on("click",k)}function k(){d.off("click"),r.children.splice(1),r.draw();var e=new Konva.Rect({x:90,y:175,width:300,height:300,fill:"#FACD91"}),n=new Konva.Text({x:100,y:265,text:"现在初步认识了两种光\n的反射，来开始基于镜\n面反射的演示游戏吧！",fontSize:28,fill:"#333",storke:"#333"});r.add(e),r.add(n),r.draw(),d.on("click",F)}function F(){d.off("click"),r.children.splice(1),r.draw();var e=new Konva.Rect({x:90,y:175,width:300,height:300,fill:"#FACD91"}),n=new Konva.Text({x:100,y:265,text:"假设猫是发光源，老鼠\n不能动，猫可以沿着光\n线移动，需要指定数量\n的镜子当做反射面引导\n猫捉到老鼠",fontSize:28,fill:"#333",storke:"#333"});r.add(e),r.add(n),r.draw(),d.on("click",S)}function K(e){for(let t=0;t<=e;t++){var n={points:[300,600,350,650],stroke:"#FFFF00",tension:1,draggable:0!==t,strokeWidth:6},i=new Konva.Line(n);i.on("mouseover",(function(){document.body.style.cursor="pointer"})),i.on("mouseout",(function(){document.body.style.cursor="default"})),r.add(i),i.on("dragend",I),i.on("dragstart",T),i.on("dragmove",b)}var a;o=!1,a=new Konva.Text({x:330,y:600,text:"x"+t,fontSize:14,fill:"#fff",storke:"#fff",name:"number"}),r.add(a),r.draw()}function T(e){let n=50*Math.floor(e.evt.offsetX/50),t=50*Math.floor(e.evt.offsetY/50);for(let e=0;e<i.length;e++)if(i[e][0]===n&&i[e][1]===t){a=i[e][2],i.splice(e,1);break}}function b(){o=!0}function I(e){if(o){o=!1,e.target.drag=!0;let n=-1;for(let e=0;e<r.children.length;e++){if(r.children[e].drag){n=e;break}}r.children.splice(n,1);let d=50*Math.floor(e.evt.offsetX/50),l=50*Math.floor(e.evt.offsetY/50),c=new Konva.Line({points:a?[d,l,d+50,l+50]:[d+50,l,d,l+50],stroke:"#FFFF00",tension:1,draggable:!0,strokeWidth:6});c.on("mouseover",(function(){document.body.style.cursor="pointer"})),c.on("mouseout",(function(){document.body.style.cursor="default"})),c.on("dragend",I),c.on("dragmove",b),c.on("dragstart",T),i.push([d,l,a]),r.add(c);let s=-1;for(let e=0;e<r.children.length;e++){if(r.children[e].attrs.name){s=e;break}}r.children.splice(s,1);let f=t-i.length,u=new Konva.Text({x:330,y:600,text:"x"+f,fontSize:14,fill:"#fff",storke:"#fff",name:"number"});r.add(u),r.draw(),a=!0}else if(e.evt.offsetX>=0&&e.evt.offsetX<=500&&e.evt.offsetY>=0&&e.evt.offsetY<=550){e.target.change=!0;let n=-1;for(let e=0;e<r.children.length;e++){if(r.children[e].change){n=e;break}}r.children.splice(n,1);let t=!0,o=50*Math.floor(e.evt.offsetX/50),a=50*Math.floor(e.evt.offsetY/50);for(let e=0;e<i.length;e++)if(i[e][0]===o&&i[e][1]===a){t=i[e][2],i.splice(e,1);break}i.push([o,a,!t]);let d=new Konva.Line({points:t?[o+50,a,o,a+50]:[o,a,o+50,a+50],stroke:"#FFFF00",tension:1,draggable:!0,strokeWidth:6});d.on("mouseover",(function(){document.body.style.cursor="pointer"})),d.on("mouseout",(function(){document.body.style.cursor="default"})),d.on("dragend",I),d.on("dragmove",b),d.on("dragstart",T),r.add(d),r.draw()}}function S(){var e;d.off("click"),r.children.splice(1),h(),g(150,200,200,150),function(){var e=new Image;e.src="./images/cat.jpg",e.onload=function(){var n=new Konva.Image({x:50,y:250,image:e,width:50,height:50});r.add(n),r.draw()};var n=new Image;n.src="./images/mouse.jpg",n.onload=function(){var e=new Konva.Image({x:400,y:250,image:n,width:50,height:50});r.add(e),r.draw()}}(),r.draw(),K(2),(e=new Konva.RegularPolygon({x:460,y:620,sides:3,radius:30,fill:"#699BC8",strokeWidth:4,rotation:90})).on("mouseover",(function(){document.body.style.cursor="pointer"})),e.on("mouseout",(function(){document.body.style.cursor="default"})),e.on("click",R),r.add(e),r.draw()}function z(e,n,t,o,i="#95F204"){var a=new Konva.Arrow({points:[e,n,t,o],pointerLength:20,pointerWidth:20,fill:i,stroke:i,strokeWidth:4,name:"light"});r.add(a),r.draw()}function D(e){r.children.splice(1);var n=new Konva.Text({x:100,y:270,text:"不好意思您失败了，\n请点击屏幕重新开始",fontSize:34,fill:"#FFFF00",storke:"#FFFF00"});r.add(n),r.draw(),1===e?(d.on("click",S),i=[],t=2):(d.on("click",C),i=[],t=4)}function R(){let e=[],n=[],t=[];if(i.forEach(o=>{e.push(o[0]),n.push(o[1]),t.push(o[2])}),e.indexOf(50)>=0){let o=e.indexOf(50),i=n[o];if(i<200)if(z(75,250,75,i+25),t[o])z(75,i+25,0,i+25),setTimeout(()=>{D(1)},500);else if(e.splice(o,1),n.splice(o,1),t.splice(o,1),e.length>0)if(n.includes(i)){let o=n.indexOf(i),a=e[o],d=t[o];z(75,i+25,a+25,i+25),d?100===a?(z(a+25,i+25,a+25,550),setTimeout(()=>{D(1)},500)):150===a||200===a||250===a||300===a?(z(a+25,i+25,a+25,200),setTimeout(()=>{D(1)},500)):350===a||450===a?(z(a+25,i+25,a+25,550),setTimeout(()=>{D(1)},500)):(z(a+25,i+25,a+25,250),setTimeout(()=>{j()},1e3)):(z(a+25,i+25,a+25,0),setTimeout(()=>{D(1)},500))}else z(75,i+25,500,i+25),setTimeout(()=>{D(1)},500);else z(75,i+25,500,i+25),setTimeout(()=>{D(1)},500);if(i>300)if(z(75,300,75,i+25),t[o])if(e.splice(o,1),n.splice(o,1),t.splice(o,1),e.length>0)if(n.includes(i)){let o=n.indexOf(i),a=e[o],d=t[o];z(75,i+25,a+25,i+25),d?(z(a+25,i+25,a+25,550),setTimeout(()=>{D(1)},500)):100===a?(z(a+25,i+25,a+25,0),setTimeout(()=>{D(1)},500)):150===a||200===a||250===a||300===a?(z(a+25,i+25,a+25,350),setTimeout(()=>{D(1)},500)):350===a||450===a?(z(a+25,i+25,a+25,0),setTimeout(()=>{D(1)},500)):(z(a+25,i+25,a+25,300),setTimeout(()=>{j()},1e3))}else z(75,i+25,500,i+25),setTimeout(()=>{D(1)},500);else z(75,i+25,500,i+25),setTimeout(()=>{D(1)},500);else z(75,i+25,0,i+25),setTimeout(()=>{D(1)},500)}else z(75,250,75,0),z(75,300,75,550),setTimeout(()=>{D(1)},500)}function j(){r.children.splice(1);var e=new Image;e.src="./images/good.jpg",e.onload=function(){var n=new Konva.Image({x:150,y:20,image:e,width:200,height:200});r.add(n);var t=new Konva.Text({x:150,y:270,text:"Congratulations\n你太棒了！\n第二关稍加了点\n难度，加油哦！",fontSize:34,fill:"#FFFF00",storke:"#FFFF00"});d.on("click",C),r.add(t),r.draw()}}function C(){var e;t=4,i=[],d.off("click"),r.children.splice(1),h(),g(200,50,150,50),g(200,200,150,150),g(200,450,150,50),function(){var e=new Image;e.src="./images/police.jpg",e.onload=function(){var n=new Konva.Image({x:250,y:200,image:e,width:50,height:50});r.add(n),r.draw()};var n=new Image;n.src="./images/thief.jpg",n.onload=function(){var e=new Konva.Image({x:250,y:300,image:n,width:50,height:50});r.add(e),r.draw()}}(),r.draw(),K(4),(e=new Konva.RegularPolygon({x:460,y:620,sides:3,radius:30,fill:"#699BC8",strokeWidth:4,rotation:90})).on("mouseover",(function(){document.body.style.cursor="pointer"})),e.on("mouseout",(function(){document.body.style.cursor="default"})),e.on("click",A),r.add(e),r.draw()}function A(){const e=i.filter(e=>250===e[0]).filter(e=>e[1]>300);if(e.length>0){z(275,350,275,e[0][1]+25);for(let n=0;n<i.length;n++)250===i[n][0]&&i[n][1]===e[0][1]&&(i.splice(n,1),n--);if(e[0][2]){const n=i.filter(n=>n[1]===e[0][1]).filter(e=>e[0]>250);if(n.length>0){z(275,e[0][1]+25,n[0][0]+25,e[0][1]+25);for(let t=0;t<i.length;t++)i[t][0]===n[0][0]&&i[t][1]===e[0][1]&&(i.splice(t,1),t--);if(n[0][2])setTimeout(()=>{D(2)},500);else{const t=i.filter(e=>e[0]===n[0][0]).filter(e=>e[1]<200&&e[1]>50);if(t.length>0){z(n[0][0]+25,e[0][1]+25,n[0][0]+25,t[0][1]+25);for(let e=0;e<i.length;e++)i[e][0]===n[0][0]&&i[e][1]===t[0][1]&&(i.splice(e,1),e--);if(t[0][2]){const e=i.filter(e=>e[1]===t[0][1]).filter(e=>250===e[0]);e.length>0&&(z(n[0][0]+25,t[0][1]+25,275,t[0][1]+25),e[0][2]?(z(275,t[0][1]+25,275,100),setTimeout(()=>{D(2)},500)):(z(275,t[0][1]+25,275,200),setTimeout(()=>{L()},1e3)))}else z(n[0][0]+25,t[0][1]+25,n[0][0]+25,500),setTimeout(()=>{D(2)},500)}else z(n[0][0]+25,e[0][1]+25,n[0][0]+25,0),setTimeout(()=>{D(2)},500)}}else z(275,e[0][1]+25,500,e[0][1]+25),setTimeout(()=>{D(2)},500)}else{const n=i.filter(n=>n[1]===e[0][1]).filter(e=>e[0]<250);if(n.length>0){z(275,e[0][1]+25,n[0][0]+25,e[0][1]+25);for(let t=0;t<i.length;t++)i[t][0]===n[0][0]&&i[t][1]===e[0][1]&&(i.splice(t,1),t--);if(n[0][2]){const t=i.filter(e=>e[0]===n[0][0]).filter(e=>e[1]<200&&e[1]>50);if(t.length>0){z(n[0][0]+25,e[0][1]+25,n[0][0]+25,t[0][1]+25);for(let e=0;e<i.length;e++)i[e][0]===n[0][0]&&i[e][1]===t[0][1]&&(i.splice(e,1),e--);if(t[0][2])z(n[0][0]+25,t[0][1]+25,n[0][0]+25,500),setTimeout(()=>{D(2)},500);else{const e=i.filter(e=>e[1]===t[0][1]).filter(e=>250===e[0]);e.length>0&&(z(n[0][0]+25,t[0][1]+25,275,t[0][1]+25),e[0][2]?(z(275,t[0][1]+25,275,200),setTimeout(()=>{L()},1e3)):(z(275,t[0][1]+25,275,100),setTimeout(()=>{D(2)},500)))}}else z(n[0][0]+25,e[0][1]+25,n[0][0]+25,0),setTimeout(()=>{D(2)},500)}else setTimeout(()=>{D(2)},500)}else z(275,e[0][1]+25,0,e[0][1]+25)}}else z(275,350,275,450),setTimeout(()=>{D(2)},500)}function L(){r.children.splice(1);var e=new Image;e.src="./images/good.jpg",e.onload=function(){var n=new Konva.Image({x:150,y:20,image:e,width:200,height:200});r.add(n);var t=new Konva.Text({x:150,y:270,text:"Congratulations\n你太棒了！\n\n通过二关游戏，你\n已经充分掌握了\n光的反射原理，\n下面让我们学习\n光的折射",fontSize:34,fill:"#FFFF00",storke:"#FFFF00"});d.on("click",W),r.add(t),r.draw()}}function W(){d.off("click"),r.children.splice(1),r.draw();var e=new Konva.Rect({x:90,y:175,width:300,height:300,fill:"#FACD91"}),n=new Konva.Text({x:100,y:265,text:"前面我们熟悉了光的反\n射，下面来了解光的\n折射",fontSize:28,fill:"#333",storke:"#333"});r.add(e),r.add(n),r.draw(),d.on("click",O)}function O(){d.off("click"),r.children.splice(1),r.draw();var e=new Konva.Rect({x:20,y:15,width:460,height:120,fill:"#FACD91"}),n=new Konva.Text({x:50,y:35,text:"光的折射：光从一种介质射入另\n一种介质时，传播放心会发生偏\n折，这种现象就叫做光的折射",fontSize:28,fill:"#333",storke:"#333"});r.add(e),r.add(n);var t=new Image;t.src="./images/mirror.jpeg",t.onload=function(){var e=new Konva.Image({x:20,y:175,image:t,width:230,height:200});r.add(e),r.draw()};var o=new Image;o.src="./images/zheshe1.jpg",o.onload=function(){var e=new Konva.Image({x:255,y:175,image:o,width:225,height:200});r.add(e),r.draw()};var i=new Konva.Rect({x:20,y:415,width:460,height:200,fill:"#FACD91"}),a=new Konva.Text({x:30,y:435,text:"光的折射与光的反射一样都是发生在两种介质\n的交界处，只是反射光返回原介质中，\n而折射光则进入到另一种介质中。\n由于光在在两种不同的物质里传播速度不同，\n故在两种介质的交界处传播方向\n发生变化，这就是光的折射",fontSize:22,fill:"#333",storke:"#333"});r.add(i),r.add(a),r.draw(),d.on("click",M)}function M(){d.off("click"),r.children.splice(1),r.draw();var e=new Image;e.src="./images/zheshe2.png",e.onload=function(){var n=new Konva.Image({x:0,y:0,image:e,width:500,height:580});r.add(n),r.draw()},d.on("click",P)}function P(){d.off("click"),r.children.splice(1),r.draw();var e=new Image;e.src="./images/zheshe3.png",e.onload=function(){var n=new Konva.Image({x:0,y:0,image:e,width:500,height:580});r.add(n),r.draw()},d.on("click",_)}function _(){d.off("click"),r.children.splice(1),r.draw();var e=new Image;e.src="./images/zheshe4.png",e.onload=function(){var n=new Konva.Image({x:0,y:0,image:e,width:500,height:580});r.add(n),r.draw()},d.on("click",X)}function X(){d.off("click"),r.children.splice(1),r.draw();var e=new Konva.Rect({x:90,y:175,width:300,height:300,fill:"#FACD91"}),n=new Konva.Text({x:100,y:265,text:"熟悉了光的折射，我们\n赶紧来通过游戏加深\n印象吧！",fontSize:28,fill:"#333",storke:"#333"});r.add(e),r.add(n),r.draw(),d.on("click",Y)}function Y(){d.off("click"),r.children.splice(1),r.draw();let e=new Konva.Line({points:[50,250,450,250],stroke:"#7F7F7F",tension:1,strokeWidth:6}),n=new Konva.Line({points:[250,50,250,450],stroke:"#0000FF",tension:1,strokeWidth:2});n.dash([5,2]),r.add(e),r.add(n);var t=new Image;t.src="./images/eye.jpeg",t.onload=function(){var e=new Konva.Image({x:330,y:105,image:t,width:100,height:60});r.add(e),r.draw()};var o=new Image;o.src="./images/fish.png",o.onload=function(){var e=new Konva.Image({x:70,y:345,image:o,width:100,height:60});r.add(e),r.draw()};let i=new Konva.Line({points:[350,150,250,250],stroke:"#FFFF00",tension:1,strokeWidth:2}),a=new Konva.Line({points:[250,250,150,350],stroke:"#FFFF00",tension:1,strokeWidth:2});r.add(i),r.add(a);let l=new Konva.Rect({x:20,y:440,width:450,height:170,fill:"#FACD91"});r.add(l);let c=new Konva.Text({x:40,y:460,text:"如果你在岸上，看到了池水中的鱼，\n只能瞄准选择鱼的上下左右4个\n按键之一来去捕鱼，请点击图中\n的按钮进行选择。",fontSize:28,fill:"#333",storke:"#333"});r.add(c);let s=new Konva.Rect({x:400,y:200,width:40,height:30,fill:"#81D3F8"}),f=new Konva.Text({x:400,y:210,text:"空气",fontSize:18,fill:"#333",storke:"#333"}),u=new Konva.Rect({x:400,y:270,width:40,height:30,fill:"#81D3F8"}),h=new Konva.Text({x:410,y:280,text:"水",fontSize:18,fill:"#333",storke:"#333"}),g=new Konva.Rect({x:100,y:290,width:60,height:30,fill:"#81D3F8"}),w=new Konva.Text({x:120,y:293,text:"A",fontSize:28,fill:"#333",storke:"#333"}),m=new Konva.Rect({x:190,y:350,width:40,height:30,fill:"#81D3F8"}),v=new Konva.Text({x:200,y:353,text:"B",fontSize:28,fill:"#333",storke:"#333"}),y=new Konva.Rect({x:100,y:409,width:50,height:30,fill:"#81D3F8"}),x=new Konva.Text({x:115,y:413,text:"C",fontSize:28,fill:"#333",storke:"#333"}),p=new Konva.Rect({x:15,y:350,width:50,height:30,fill:"#81D3F8"}),k=new Konva.Text({x:30,y:350,text:"D",fontSize:28,fill:"#333",storke:"#333"});r.add(u),r.add(h),r.add(s),r.add(f),r.add(g),r.add(w),r.add(m),r.add(v),r.add(y),r.add(x),r.add(p),r.add(k),r.draw(),g.on("mouseover",(function(){document.body.style.cursor="pointer"})),w.on("mouseover",(function(){document.body.style.cursor="pointer"})),g.on("mouseout",(function(){document.body.style.cursor="default"})),w.on("mouseout",(function(){document.body.style.cursor="default"})),m.on("mouseover",(function(){document.body.style.cursor="pointer"})),m.on("mouseout",(function(){document.body.style.cursor="default"})),v.on("mouseover",(function(){document.body.style.cursor="pointer"})),v.on("mouseout",(function(){document.body.style.cursor="default"})),y.on("mouseover",(function(){document.body.style.cursor="pointer"})),y.on("mouseout",(function(){document.body.style.cursor="default"})),x.on("mouseover",(function(){document.body.style.cursor="pointer"})),x.on("mouseout",(function(){document.body.style.cursor="default"})),p.on("mouseover",(function(){document.body.style.cursor="pointer"})),p.on("mouseout",(function(){document.body.style.cursor="default"})),k.on("mouseover",(function(){document.body.style.cursor="pointer"})),k.on("mouseout",(function(){document.body.style.cursor="default"})),g.on("click",B),w.on("click",B),m.on("click",B),v.on("click",B),y.on("click",E),x.on("click",E),p.on("click",B),k.on("click",B)}function B(){d.off("click"),r.children.splice(1);var e=new Konva.Text({x:130,y:270,text:"很遗憾选择错误，\n下面来看下原因吧",fontSize:34,fill:"#FFFF00",storke:"#FFFF00"});r.add(e),r.draw(),setTimeout(()=>{d.on("click",q)},500)}function E(){r.children.splice(1);var e=new Image;e.src="./images/good.jpg",e.onload=function(){var n=new Konva.Image({x:150,y:20,image:e,width:200,height:200});r.add(n);var t=new Konva.Text({x:150,y:270,text:"Congratulations\n恭喜你闯完\n最后一关！",fontSize:34,fill:"#FFFF00",storke:"#FFFF00"});r.add(t),r.draw()}}function q(){d.off("click"),r.children.splice(1),r.draw();let e=new Konva.Line({points:[50,250,450,250],stroke:"#7F7F7F",tension:1,strokeWidth:6}),n=new Konva.Line({points:[250,50,250,450],stroke:"#0000FF",tension:1,strokeWidth:2});n.dash([5,2]),r.add(e),r.add(n);var t=new Image;t.src="./images/eye.jpeg",t.onload=function(){var e=new Konva.Image({x:330,y:105,image:t,width:100,height:60});r.add(e),r.draw()};var o=new Image;o.src="./images/fish.png",o.onload=function(){var e=new Konva.Image({x:70,y:305,image:o,width:100,height:60});r.add(e),r.draw()};var i=new Image;i.src="./images/fish.png",i.onload=function(){var e=new Konva.Image({x:70,y:375,image:i,width:100,height:60});r.add(e),r.draw()},z(350,150,250,240,"#0000FF"),z(250,240,170,300,"#0000FF"),z(170,380,250,250),z(250,250,350,160);let a=new Konva.Rect({x:20,y:440,width:450,height:170,fill:"#FACD91"});r.add(a);let l=new Konva.Text({x:40,y:460,text:"从鱼身上反射出的光线由水中进入空气时，在水面上\n发生折射，折射角大于入射角，折射光线进入人眼，\n人眼会逆着折射光线的方向看去，\n就会觉得鱼变浅了，眼睛看到的是鱼的虚像，\n在鱼的上方，所以叉鱼时要瞄准像的下方。\n温馨提示：由于光的折射，\n在岸边看到的池水会比实际深度浅，\n所以不要贸然下去。",fontSize:18,fill:"#333",storke:"#333"});r.add(l),d.on("click",E)}r.add(c),r.add(s),r.draw(),d.on("click",(function(){r.children.splice(1,2),r.draw(),d.off("click");var e=new Konva.Rect({x:50,y:45,width:400,height:200,fill:"#FACD91"}),n=new Konva.Text({x:50,y:75,text:"1.镜面反射：平行光线经界面反\n射后沿某一方向平行射出，只能\n在某一方向接收到反射光线\n（反射面是光滑平面）",fontSize:28,fill:"#333",storke:"#333"});r.add(e),r.add(n);var t=new Image;t.src="./images/mirror.jpeg",t.onload=function(){var e=new Konva.Image({x:70,y:305,image:t,width:360,height:260});r.add(e),r.draw()},r.draw(),d.on("click",f)}))}]);