!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t){let n=2,o=!1,i=[],a=!0;var r=new Konva.Stage({container:"container",width:500,height:650}),d=new Konva.Layer;r.add(d);var l=new Konva.Rect({x:0,y:0,width:500,height:650,fill:"#EC808D"});d.add(l);var s=new Konva.Rect({x:90,y:175,width:300,height:300,fill:"#FACD91"}),f=new Konva.Text({x:100,y:265,text:"开始游戏前，让我们先\n来了解下什么是光的\n             反射？",fontSize:28,fill:"#333",storke:"#333"});function c(e,t){e.on("tap",t),e.on("click",t)}function u(e){e.off("tap"),e.off("click")}function h(e,t,n,o,i="#95F204"){var a=new Konva.Arrow({points:[e,t,n,o],pointerLength:20,pointerWidth:20,fill:i,stroke:i,strokeWidth:4,name:"light"});d.add(a),d.draw()}function g(){for(let t=0;t<11;t++){var e=new Konva.Line({points:[0,50*(t+1),500,50*(t+1)],stroke:"#D7D7D7",tension:1});e.dash([5,2]),d.add(e)}for(let e=0;e<10;e++){var t=new Konva.Line({points:[50*(e+1),0,50*(e+1),550],stroke:"#D7D7D7",tension:1});t.dash([5,2]),d.add(t)}}function w(e,t,n,o){var i=new Konva.Rect({x:e,y:t,width:n,height:o,fill:"#555555"});d.add(i),d.draw()}function m(){d.children.splice(1),d.draw(),u(r);var e=new Konva.Rect({x:50,y:45,width:400,height:200,fill:"#FACD91"}),t=new Konva.Text({x:50,y:75,text:"2.漫反射：\n平行光经界面反射后向各个不同\n的方向反射出去，即在各个不同\n的方向都能接收到反射光线（反\n射面是粗糙平面或曲面） ",fontSize:28,fill:"#333",storke:"#333"});d.add(e),d.add(t);var n=new Image;n.src="./images/man.jpeg",n.onload=function(){var e=new Konva.Image({x:70,y:305,image:n,width:360,height:260});d.add(e),d.draw()},d.draw(),c(r,v)}function v(){d.children.splice(1),d.draw(),u(r);var e=new Konva.Rect({x:90,y:175,width:300,height:300,fill:"#FACD91"}),t=new Konva.Text({x:100,y:265,text:"现在初步认识了两种光\n的反射，让我们主要学\n习基于镜面反射的知识\n吧！",fontSize:28,fill:"#333",storke:"#333"});d.add(e),d.add(t),d.draw(),c(r,y)}function y(){u(r),d.children.splice(1),d.draw();var e=new Image;e.src="./images/1.png",e.onload=function(){var t=new Konva.Image({x:0,y:0,image:e,width:500,height:580});d.add(t),d.draw()},c(r,x)}function x(){u(r),d.children.splice(1),d.draw();var e=new Image;e.src="./images/2.png",e.onload=function(){var t=new Konva.Image({x:0,y:0,image:e,width:500,height:580});d.add(t),d.draw()},c(r,p)}function p(){u(r),d.children.splice(1),d.draw();var e=new Image;e.src="./images/3.png",e.onload=function(){var t=new Konva.Image({x:0,y:0,image:e,width:500,height:580});d.add(t),d.draw()},c(r,F)}function F(){u(r),d.children.splice(1),d.draw();var e=new Image;e.src="./images/4.png",e.onload=function(){var t=new Konva.Image({x:0,y:0,image:e,width:500,height:580});d.add(t),d.draw()},c(r,K)}function K(){u(r),d.children.splice(1),d.draw();var e=new Konva.Rect({x:90,y:175,width:300,height:300,fill:"#FACD91"}),t=new Konva.Text({x:100,y:265,text:"为了巩固刚刚学到的反\n射知识，下面再来看一\n个入射角不同的例子",fontSize:28,fill:"#333",storke:"#333"});d.add(e),d.add(t),d.draw(),c(r,T)}function T(){u(r),d.children.splice(1),d.draw();var e=new Image;e.src="./images/5.png",e.onload=function(){var t=new Konva.Image({x:0,y:0,image:e,width:500,height:580});d.add(t),d.draw()},c(r,k)}function k(){u(r),d.children.splice(1),d.draw();var e=new Konva.Rect({x:90,y:175,width:300,height:300,fill:"#FACD91"}),t=new Konva.Text({x:100,y:265,text:"现在初步认识了两种光\n的反射，来开始基于镜\n面反射的演示游戏吧！",fontSize:28,fill:"#333",storke:"#333"});d.add(e),d.add(t),d.draw(),c(r,b)}function b(){u(r),d.children.splice(1),d.draw();var e=new Konva.Rect({x:90,y:175,width:300,height:300,fill:"#FACD91"}),t=new Konva.Text({x:100,y:265,text:"假设猫是发光源，老鼠\n不能动，猫可以沿着光\n线移动，需要指定数量\n的镜子当做反射面引导\n猫捉到老鼠",fontSize:28,fill:"#333",storke:"#333"});d.add(e),d.add(t),d.draw(),c(r,R)}function I(e){for(let n=0;n<=e;n++){var t={points:[300,600,350,650],stroke:"#FFFF00",tension:1,draggable:0!==n,strokeWidth:6},i=new Konva.Line(t);i.on("mouseover",(function(){document.body.style.cursor="pointer"})),i.on("mouseout",(function(){document.body.style.cursor="default"})),d.add(i),i.on("dragend",D),i.on("dragstart",S),i.on("dragmove",z)}var a;o=!1,a=new Konva.Text({x:330,y:600,text:"x"+n,fontSize:14,fill:"#fff",storke:"#fff",name:"number"}),d.add(a),d.draw()}function S(e){let t=e.evt.offsetX?50*Math.floor(e.evt.offsetX/50):e.currentTarget.attrs.points[0],n=e.evt.offsetY?50*Math.floor(e.evt.offsetY/50):e.currentTarget.attrs.points[1];for(let e=0;e<i.length;e++)if(i[e][0]===t&&i[e][1]===n){a=i[e][2],i.splice(e,1);break}}function z(){o=!0}function D(e){if(o){let t=e.evt.offsetX?e.evt.offsetX:e.currentTarget.attrs.points[0]+e.currentTarget.attrs.x,r=e.evt.offsetY?e.evt.offsetY:e.currentTarget.attrs.points[1]+e.currentTarget.attrs.y;t=50*Math.floor(t/50),r=50*Math.floor(r/50),o=!1,e.target.drag=!0;let l=-1;for(let e=0;e<d.children.length;e++){if(d.children[e].drag){l=e;break}}d.children.splice(l,1);let s=new Konva.Line({points:a?[t,r,t+50,r+50]:[t+50,r,t,r+50],stroke:"#FFFF00",tension:1,draggable:!0,strokeWidth:6});s.on("mouseover",(function(){document.body.style.cursor="pointer"})),s.on("mouseout",(function(){document.body.style.cursor="default"})),s.on("dragend",D),s.on("dragmove",z),s.on("dragstart",S),i.push([t,r,a]),d.add(s);let f=-1;for(let e=0;e<d.children.length;e++){if(d.children[e].attrs.name){f=e;break}}d.children.splice(f,1);let c=n-i.length,u=new Konva.Text({x:330,y:600,text:"x"+c,fontSize:14,fill:"#fff",storke:"#fff",name:"number"});d.add(u),d.draw(),a=!0}else{let t=e.evt.offsetX?e.evt.offsetX:e.target.attrs.points[0],n=e.evt.offsetY?e.evt.offsetY:e.target.attrs.points[1];if(t>=0&&t<=500&&n>=0&&n<=550){e.target.change=!0;let o=-1;for(let e=0;e<d.children.length;e++){if(d.children[e].change){o=e;break}}d.children.splice(o,1);let a=!0,r=50*Math.floor(t/50),l=50*Math.floor(n/50);for(let e=0;e<i.length;e++)if(i[e][0]===r&&i[e][1]===l){a=i[e][2],i.splice(e,1);break}i.push([r,l,!a]);let s=new Konva.Line({points:a?[r+50,l,r,l+50]:[r,l,r+50,l+50],stroke:"#FFFF00",tension:1,draggable:!0,strokeWidth:6});s.on("mouseover",(function(){document.body.style.cursor="pointer"})),s.on("mouseout",(function(){document.body.style.cursor="default"})),s.on("dragend",D),s.on("dragmove",z),s.on("dragstart",S),d.add(s),d.draw()}}}function R(){var e;u(r),d.children.splice(1),g(),w(150,200,200,150),function(){var e=new Image;e.src="./images/cat.jpg",e.onload=function(){var t=new Konva.Image({x:50,y:250,image:e,width:50,height:50});d.add(t),d.draw()};var t=new Image;t.src="./images/mouse.jpg",t.onload=function(){var e=new Konva.Image({x:400,y:250,image:t,width:50,height:50});d.add(e),d.draw()}}(),d.draw(),I(2),(e=new Konva.RegularPolygon({x:460,y:620,sides:3,radius:30,fill:"#699BC8",strokeWidth:4,rotation:90})).on("mouseover",(function(){document.body.style.cursor="pointer"})),e.on("mouseout",(function(){document.body.style.cursor="default"})),c(e,C),d.add(e),d.draw()}function j(e){d.children.splice(1);var t=new Konva.Text({x:100,y:270,text:"不好意思您失败了，\n请点击屏幕重新开始",fontSize:34,fill:"#FFFF00",storke:"#FFFF00"});d.add(t),d.draw(),1===e?(setTimeout(()=>{c(r,R)},500),i=[],n=2):(setTimeout(()=>{c(r,L)},500),i=[],n=4)}function C(){let e=[],t=[],n=[];if(i.forEach(o=>{e.push(o[0]),t.push(o[1]),n.push(o[2])}),e.indexOf(50)>=0){let o=e.indexOf(50),i=t[o];if(i<200)if(h(75,250,75,i+25),n[o])h(75,i+25,0,i+25),setTimeout(()=>{j(1)},500);else if(e.splice(o,1),t.splice(o,1),n.splice(o,1),e.length>0)if(t.includes(i)){let o=t.indexOf(i),a=e[o],r=n[o];h(75,i+25,a+25,i+25),r?100===a?(h(a+25,i+25,a+25,550),setTimeout(()=>{j(1)},500)):150===a||200===a||250===a||300===a?(h(a+25,i+25,a+25,200),setTimeout(()=>{j(1)},500)):350===a||450===a?(h(a+25,i+25,a+25,550),setTimeout(()=>{j(1)},500)):(h(a+25,i+25,a+25,250),setTimeout(()=>{A()},1e3)):(h(a+25,i+25,a+25,0),setTimeout(()=>{j(1)},500))}else h(75,i+25,500,i+25),setTimeout(()=>{j(1)},500);else h(75,i+25,500,i+25),setTimeout(()=>{j(1)},500);if(i>300)if(h(75,300,75,i+25),n[o])if(e.splice(o,1),t.splice(o,1),n.splice(o,1),e.length>0)if(t.includes(i)){let o=t.indexOf(i),a=e[o],r=n[o];h(75,i+25,a+25,i+25),r?(h(a+25,i+25,a+25,550),setTimeout(()=>{j(1)},500)):100===a?(h(a+25,i+25,a+25,0),setTimeout(()=>{j(1)},500)):150===a||200===a||250===a||300===a?(h(a+25,i+25,a+25,350),setTimeout(()=>{j(1)},500)):350===a||450===a?(h(a+25,i+25,a+25,0),setTimeout(()=>{j(1)},500)):(h(a+25,i+25,a+25,300),setTimeout(()=>{A()},1e3))}else h(75,i+25,500,i+25),setTimeout(()=>{j(1)},500);else h(75,i+25,500,i+25),setTimeout(()=>{j(1)},500);else h(75,i+25,0,i+25),setTimeout(()=>{j(1)},500)}else h(75,250,75,0),h(75,300,75,550),setTimeout(()=>{j(1)},500)}function A(){d.children.splice(1);var e=new Image;e.src="./images/good.jpg",e.onload=function(){var t=new Konva.Image({x:150,y:20,image:e,width:200,height:200});d.add(t);var n=new Konva.Text({x:150,y:270,text:"Congratulations\n你太棒了！\n第二关稍加了点\n难度，加油哦！",fontSize:34,fill:"#FFFF00",storke:"#FFFF00"});c(r,L),d.add(n),d.draw()}}function L(){var e;n=4,i=[],u(r),d.children.splice(1),g(),w(200,50,150,50),w(200,200,150,150),w(200,450,150,50),function(){var e=new Image;e.src="./images/thief.jpg",e.onload=function(){var t=new Konva.Image({x:250,y:200,image:e,width:50,height:50});d.add(t),d.draw()};var t=new Image;t.src="./images/police.jpg",t.onload=function(){var e=new Konva.Image({x:250,y:300,image:t,width:50,height:50});d.add(e),d.draw()}}(),d.draw(),I(4),(e=new Konva.RegularPolygon({x:460,y:620,sides:3,radius:30,fill:"#699BC8",strokeWidth:4,rotation:90})).on("mouseover",(function(){document.body.style.cursor="pointer"})),e.on("mouseout",(function(){document.body.style.cursor="default"})),setTimeout(()=>{c(e,W)},500),d.add(e),d.draw()}function W(){const e=i.filter(e=>250===e[0]).filter(e=>e[1]>300);if(e.length>0){h(275,350,275,e[0][1]+25);for(let t=0;t<i.length;t++)250===i[t][0]&&i[t][1]===e[0][1]&&(i.splice(t,1),t--);if(e[0][2]){const t=i.filter(t=>t[1]===e[0][1]).filter(e=>e[0]>250);if(t.length>0){h(275,e[0][1]+25,t[0][0]+25,e[0][1]+25);for(let n=0;n<i.length;n++)i[n][0]===t[0][0]&&i[n][1]===e[0][1]&&(i.splice(n,1),n--);if(t[0][2])setTimeout(()=>{j(2)},500);else{const n=i.filter(e=>e[0]===t[0][0]).filter(e=>e[1]<200&&e[1]>50);if(n.length>0){h(t[0][0]+25,e[0][1]+25,t[0][0]+25,n[0][1]+25);for(let e=0;e<i.length;e++)i[e][0]===t[0][0]&&i[e][1]===n[0][1]&&(i.splice(e,1),e--);if(n[0][2]){const e=i.filter(e=>e[1]===n[0][1]).filter(e=>250===e[0]);e.length>0&&(h(t[0][0]+25,n[0][1]+25,275,n[0][1]+25),e[0][2]?(h(275,n[0][1]+25,275,100),setTimeout(()=>{j(2)},500)):(h(275,n[0][1]+25,275,200),setTimeout(()=>{O()},1e3)))}else h(t[0][0]+25,n[0][1]+25,t[0][0]+25,500),setTimeout(()=>{j(2)},500)}else h(t[0][0]+25,e[0][1]+25,t[0][0]+25,0),setTimeout(()=>{j(2)},500)}}else h(275,e[0][1]+25,500,e[0][1]+25),setTimeout(()=>{j(2)},500)}else{const t=i.filter(t=>t[1]===e[0][1]).filter(e=>e[0]<250);if(t.length>0){h(275,e[0][1]+25,t[0][0]+25,e[0][1]+25);for(let n=0;n<i.length;n++)i[n][0]===t[0][0]&&i[n][1]===e[0][1]&&(i.splice(n,1),n--);if(t[0][2]){const n=i.filter(e=>e[0]===t[0][0]).filter(e=>e[1]<200&&e[1]>50);if(n.length>0){h(t[0][0]+25,e[0][1]+25,t[0][0]+25,n[0][1]+25);for(let e=0;e<i.length;e++)i[e][0]===t[0][0]&&i[e][1]===n[0][1]&&(i.splice(e,1),e--);if(n[0][2])h(t[0][0]+25,n[0][1]+25,t[0][0]+25,500),setTimeout(()=>{j(2)},500);else{const e=i.filter(e=>e[1]===n[0][1]).filter(e=>250===e[0]);e.length>0&&(h(t[0][0]+25,n[0][1]+25,275,n[0][1]+25),e[0][2]?(h(275,n[0][1]+25,275,200),setTimeout(()=>{O()},1e3)):(h(275,n[0][1]+25,275,100),setTimeout(()=>{j(2)},500)))}}else h(t[0][0]+25,e[0][1]+25,t[0][0]+25,0),setTimeout(()=>{j(2)},500)}else setTimeout(()=>{j(2)},500)}else h(275,e[0][1]+25,0,e[0][1]+25)}}else h(275,350,275,450),setTimeout(()=>{j(2)},500)}function O(){d.children.splice(1);var e=new Image;e.src="./images/good.jpg",e.onload=function(){var t=new Konva.Image({x:150,y:20,image:e,width:200,height:200});d.add(t);var n=new Konva.Text({x:150,y:270,text:"Congratulations\n你太棒了！\n\n通过二关游戏，你\n已经充分掌握了\n光的反射原理，\n下面让我们学习\n光的折射",fontSize:34,fill:"#FFFF00",storke:"#FFFF00"});c(r,M),d.add(n),d.draw()}}function M(){u(r),d.children.splice(1),d.draw();var e=new Konva.Rect({x:90,y:175,width:300,height:300,fill:"#FACD91"}),t=new Konva.Text({x:100,y:265,text:"前面我们熟悉了光的反\n射，下面来了解光的\n折射",fontSize:28,fill:"#333",storke:"#333"});d.add(e),d.add(t),d.draw(),c(r,P)}function P(){u(r),d.children.splice(1),d.draw();var e=new Konva.Rect({x:20,y:15,width:460,height:120,fill:"#FACD91"}),t=new Konva.Text({x:50,y:35,text:"光的折射：光从一种介质射入另\n一种介质时，传播方向会发生偏\n折，这种现象就叫做光的折射",fontSize:28,fill:"#333",storke:"#333"});d.add(e),d.add(t);var n=new Image;n.src="./images/mirror.jpeg",n.onload=function(){var e=new Konva.Image({x:20,y:175,image:n,width:230,height:200});d.add(e),d.draw()};var o=new Image;o.src="./images/zheshe1.jpg",o.onload=function(){var e=new Konva.Image({x:255,y:175,image:o,width:225,height:200});d.add(e),d.draw()};var i=new Konva.Rect({x:20,y:415,width:460,height:200,fill:"#FACD91"}),a=new Konva.Text({x:30,y:435,text:"光的折射与光的反射一样都是发生在两种介质\n的交界处，只是反射光返回原介质中，\n而折射光则进入到另一种介质中。\n由于光在在两种不同的物质里传播速度不同，\n故在两种介质的交界处传播方向发生变化，\n这就是光的折射",fontSize:22,fill:"#333",storke:"#333"});d.add(i),d.add(a),d.draw(),c(r,X)}function X(){u(r),d.children.splice(1),d.draw();var e=new Image;e.src="./images/zheshe2.png",e.onload=function(){var t=new Konva.Image({x:0,y:0,image:e,width:500,height:580});d.add(t),d.draw()},c(r,Y)}function Y(){u(r),d.children.splice(1),d.draw();var e=new Image;e.src="./images/zheshe3.png",e.onload=function(){var t=new Konva.Image({x:0,y:0,image:e,width:500,height:580});d.add(t),d.draw()},c(r,_)}function _(){u(r),d.children.splice(1),d.draw();var e=new Image;e.src="./images/zheshe4.png",e.onload=function(){var t=new Konva.Image({x:0,y:0,image:e,width:500,height:580});d.add(t),d.draw()},c(r,B)}function B(){u(r),d.children.splice(1),d.draw();var e=new Konva.Rect({x:90,y:175,width:300,height:300,fill:"#FACD91"}),t=new Konva.Text({x:100,y:265,text:"熟悉了光的折射，我们\n赶紧来通过游戏加深\n印象吧！",fontSize:28,fill:"#333",storke:"#333"});d.add(e),d.add(t),d.draw(),c(r,E)}function E(){u(r),d.children.splice(1),d.draw();let e=new Konva.Line({points:[50,250,450,250],stroke:"#7F7F7F",tension:1,strokeWidth:6}),t=new Konva.Line({points:[250,50,250,450],stroke:"#0000FF",tension:1,strokeWidth:2});t.dash([5,2]),d.add(e),d.add(t);var n=new Image;n.src="./images/eye.jpeg",n.onload=function(){var e=new Konva.Image({x:330,y:105,image:n,width:100,height:60});d.add(e),d.draw()};var o=new Image;o.src="./images/fish.png",o.onload=function(){var e=new Konva.Image({x:70,y:345,image:o,width:100,height:60});d.add(e),d.draw()};let i=new Konva.Line({points:[350,150,250,250],stroke:"#FFFF00",tension:1,strokeWidth:2}),a=new Konva.Line({points:[250,250,150,350],stroke:"#FFFF00",tension:1,strokeWidth:2});d.add(i),d.add(a);let l=new Konva.Rect({x:20,y:440,width:450,height:170,fill:"#FACD91"});d.add(l);let s=new Konva.Text({x:40,y:460,text:"如果你在岸上，看到了池水中的鱼，\n只能瞄准选择鱼的上下左右4个\n按键之一来去捕鱼，请点击图中\n的按钮进行选择。",fontSize:28,fill:"#333",storke:"#333"});d.add(s);let f=new Konva.Rect({x:400,y:200,width:40,height:30,fill:"#81D3F8"}),h=new Konva.Text({x:400,y:210,text:"空气",fontSize:18,fill:"#333",storke:"#333"}),g=new Konva.Rect({x:400,y:270,width:40,height:30,fill:"#81D3F8"}),w=new Konva.Text({x:410,y:280,text:"水",fontSize:18,fill:"#333",storke:"#333"}),m=new Konva.Rect({x:100,y:290,width:60,height:30,fill:"#81D3F8"}),v=new Konva.Text({x:120,y:293,text:"A",fontSize:28,fill:"#333",storke:"#333"}),y=new Konva.Rect({x:190,y:350,width:40,height:30,fill:"#81D3F8"}),x=new Konva.Text({x:200,y:353,text:"B",fontSize:28,fill:"#333",storke:"#333"}),p=new Konva.Rect({x:100,y:409,width:50,height:30,fill:"#81D3F8"}),F=new Konva.Text({x:115,y:413,text:"C",fontSize:28,fill:"#333",storke:"#333"}),K=new Konva.Rect({x:15,y:350,width:50,height:30,fill:"#81D3F8"}),T=new Konva.Text({x:30,y:350,text:"D",fontSize:28,fill:"#333",storke:"#333"});d.add(g),d.add(w),d.add(f),d.add(h),d.add(m),d.add(v),d.add(y),d.add(x),d.add(p),d.add(F),d.add(K),d.add(T),d.draw(),m.on("mouseover",(function(){document.body.style.cursor="pointer"})),v.on("mouseover",(function(){document.body.style.cursor="pointer"})),m.on("mouseout",(function(){document.body.style.cursor="default"})),v.on("mouseout",(function(){document.body.style.cursor="default"})),y.on("mouseover",(function(){document.body.style.cursor="pointer"})),y.on("mouseout",(function(){document.body.style.cursor="default"})),x.on("mouseover",(function(){document.body.style.cursor="pointer"})),x.on("mouseout",(function(){document.body.style.cursor="default"})),p.on("mouseover",(function(){document.body.style.cursor="pointer"})),p.on("mouseout",(function(){document.body.style.cursor="default"})),F.on("mouseover",(function(){document.body.style.cursor="pointer"})),F.on("mouseout",(function(){document.body.style.cursor="default"})),K.on("mouseover",(function(){document.body.style.cursor="pointer"})),K.on("mouseout",(function(){document.body.style.cursor="default"})),T.on("mouseover",(function(){document.body.style.cursor="pointer"})),T.on("mouseout",(function(){document.body.style.cursor="default"})),c(m,q),c(v,q),c(y,q),c(x,q),c(p,G),c(F,G),c(K,q),c(T,q)}function q(){d.children.splice(1);var e=new Konva.Text({x:130,y:270,text:"很遗憾选择错误，\n下面来看下原因吧",fontSize:34,fill:"#FFFF00",storke:"#FFFF00"});d.add(e),d.draw(),setTimeout(()=>{c(r,H)},500)}function G(){d.children.splice(1);var e=new Image;e.src="./images/good.jpg",e.onload=function(){var t=new Konva.Image({x:150,y:20,image:e,width:200,height:200});d.add(t);var n=new Konva.Text({x:150,y:270,text:"Congratulations\n恭喜你闯完\n最后一关！",fontSize:34,fill:"#FFFF00",storke:"#FFFF00"});d.add(n),d.draw()}}function H(){u(r),d.children.splice(1),d.draw();let e=new Konva.Line({points:[50,250,450,250],stroke:"#7F7F7F",tension:1,strokeWidth:6}),t=new Konva.Line({points:[250,50,250,450],stroke:"#0000FF",tension:1,strokeWidth:2});t.dash([5,2]),d.add(e),d.add(t);var n=new Image;n.src="./images/eye.jpeg",n.onload=function(){var e=new Konva.Image({x:330,y:105,image:n,width:100,height:60});d.add(e),d.draw()};var o=new Image;o.src="./images/fish.png",o.onload=function(){var e=new Konva.Image({x:70,y:305,image:o,width:100,height:60});d.add(e),d.draw()};var i=new Image;i.src="./images/fish.png",i.onload=function(){var e=new Konva.Image({x:70,y:375,image:i,width:100,height:60});d.add(e),d.draw()},h(350,150,250,240,"#0000FF"),h(250,240,170,315,"#0000FF"),h(170,380,250,250),h(250,250,350,160);let a=new Konva.Rect({x:20,y:440,width:450,height:170,fill:"#FACD91"});d.add(a);let l=new Konva.Text({x:40,y:460,text:"从鱼身上反射出的光线由水中进入空气时，在水面上\n发生折射，折射角大于入射角，折射光线进入人眼，\n人眼会逆着折射光线的方向看去，\n就会觉得鱼变浅了，眼睛看到的是鱼的虚像，\n在鱼的上方，所以叉鱼时要瞄准像的下方。\n温馨提示：由于光的折射，\n在岸边看到的池水会比实际深度浅，\n所以不要贸然下去。",fontSize:18,fill:"#333",storke:"#333"});d.add(l),setTimeout(()=>{c(r,G)},500)}d.add(s),d.add(f),d.draw(),c(r,(function(){d.children.splice(1,2),d.draw(),u(r);var e=new Konva.Rect({x:50,y:45,width:400,height:200,fill:"#FACD91"}),t=new Konva.Text({x:50,y:75,text:"1.镜面反射：平行光线经界面反\n射后沿某一方向平行射出，只能\n在某一方向接收到反射光线\n（反射面是光滑平面）",fontSize:28,fill:"#333",storke:"#333"});d.add(e),d.add(t);var n=new Image;n.src="./images/mirror.jpeg",n.onload=function(){var e=new Konva.Image({x:70,y:305,image:n,width:360,height:260});d.add(e),d.draw()},d.draw(),c(r,m)}))}]);